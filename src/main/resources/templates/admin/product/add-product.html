<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="admin/admin-layout">

<head>
	<meta charset="ISO-8859-1">
	<title>Add Product</title>
    <style>
        .form-group{
            height: 40px;
            display: flex;
            flex-direction: row;
        }
        label{
            width: 200px;
        }
    </style>
</head>

<body>
	<div layout:fragment="content">
        <form id="addProductForm" class="addform">
            <div class="form-group">
                <label>Tên Product</label>
                <input type="text" name="name" class="form-control name" placeholder="Tên Product">
            </div>
            <div class="form-group">
                <label>Mô tả</label>
                <input type="text" name="description" class="form-control description" placeholder="Mô tả">
            </div>
            <div class="form-group">
                <label>Giá nhập</label>
                <input type="number" name="importPrice" class="form-control importPrice" placeholder="Giá nhập">
            </div>
            <div class="form-group">
                <label>Giá sản phẩm</label>
                <input type="number" name="price" class="form-control price" placeholder="Giá nhập">
            </div>
            <div class="form-group">
                <label>discountPercent</label>
                <input type="number" name="discountPercent" class="form-control discountPercent" placeholder="discountPercent">
            </div>
            <div class="form-group">
                <label>Danh mục</label>
                <input type="text" name="category" class="form-control category" placeholder="Danh mục">
            </div>
            <div class="form-group">
                <label>Nhà cung cấp</label>
                <input type="text" name="suppilier" class="form-control suppilier" placeholder="Nhà cung cấp">
            </div>
            <div class="form-group">
				<button class="btn btn-primary" type="submit">
					Tạo Product
				</button>
			</div>

            
        </form>
        <script>
            const form = document.querySelector("#addProductForm");
            form.addEventListener('submit',(e) =>{
                e.preventDefault();
                const formValue = formToObject("#addProductForm");
                console.log(formValue);
                post('/admin/api/v1/products',formValue)
                .then(response => {
                    window.location.href = "/admin/products/search";
                })
            })
        </script>
    </div>
</body>
</html>