<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="admin/admin-layout">

<head>
	<meta charset="ISO-8859-1">
	<title>Add Product</title>
    <style>
        .form-group{
            height: 40px;
            display: flex;
            flex-direction: row;
        }
        label{
            width: 200px;
        }
    </style>
</head>

<body>
	<div layout:fragment="content">
		<h1>Create Product</h1>
        <h2 style="color: red;" th:if="${message != null}">
            <span th:text="${message}"></span>
        </h2>
        <form id="addProductForm" class="addform" method="POST" action="/admin/products/add" enctype="multipart/form-data">
            <div class="form-group">
                <label>Product Name: </label>
                <input type="text" name="name" class="form-control name" placeholder="Product Name">
            </div>
            <div class="form-group">
                <label>Description: </label>
                <input type="text" name="description" class="form-control description" placeholder="Description">
            </div>
            <div class="form-group">
                <label>Import Price: </label>
                <input type="number" name="importPrice" class="form-control importPrice" placeholder="Import Price">
            </div>
            <div class="form-group">
                <label>Product Price: </label>
                <input type="number" name="price" class="form-control price" placeholder="Product Price">
            </div>
            <div class="form-group">
                <label>Discount Percent: </label>
                <input type="number" name="discountPercent" class="form-control discountPercent" placeholder="Discount Percent">
            </div>
            <div class="form-group">
                <label>Category Name: </label>
                <input type="text" name="category" class="form-control category" placeholder="Category Name">
            </div>
            <div class="form-group">
                <label>Supplier Name: </label>
                <input type="text" name="suppilier" class="form-control suppilier" placeholder="Supplier Name">
            </div>
            <div class="form-group">
				<button class="btn btn-primary" type="submit">
					Create
				</button>
			</div>
            <div>
                <label for="fileInput">Thêm ảnh</label>
                <input name="multipartFiles" class="form-control multipartFiles" type="file" id="fileInput" multiple />
            </div>
            
        </form>
        <script>
            const form = document.querySelector("#addProductForm");
            form.addEventListener('submit',(e) =>{
                e.preventDefault();
                const formValue = formToObject("#addProductForm");
                console.log(formValue);
                post('/admin/api/v1/products',formValue)
                .then(response => {
                })
            })
        </script>
    </div>
</body>
</html>